<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="shortcut icon" href="images/gift.png" type="image/x-icon" />
    <link rel="stylesheet" href="css/index.css" />

    <!-- Preload critical resources for faster loading -->
    <link rel="preload" href="xinloiem.mp4" as="video" type="video/mp4" />
    <link rel="preload" href="bg.mp4" as="video" type="video/mp4" />

    <!-- Document Title -->
    <title>FLOWERS FOR SOMEONE</title>
  </head>

  <body>
    <!-- Background iframe with flower.html -->
    <iframe
      id="flower-iframe"
      src="flower.html"
      style="
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        border: none;
        z-index: 1;
      "
    ></iframe>

    <!-- Overlay Layer -->
    <div id="overlay" class="overlay">
      <!-- Video Background -->
      <video
        id="background-video"
        class="background-video"
        autoplay
        muted
        loop
        playsinline
        webkit-playsinline
        preload="metadata"
      >
        <source src="bg.mp4" type="video/mp4" />
        Your browser does not support the video tag.
      </video>

      <!-- Background Overlay -->
      <!-- <div class="night"></div> -->

      <!-- Title -->
      <h1 class="title"></h1>

      <!-- Button -->
      <div
        style="
          position: absolute;
          top: 60vh;
          width: 100%;
          display: flex;
          justify-content: center;
        "
      >
        <button class="btn" id="gift-button">
          <svg
            height="24"
            width="24"
            fill="#FFFFFF"
            viewBox="0 0 24 24"
            data-name="Layer 1"
            id="Layer_1"
            class="sparkle"
          >
            <path
              d="M10,21.236,6.755,14.745.264,11.5,6.755,8.255,10,1.764l3.245,6.491L19.736,11.5l-6.491,3.245ZM18,21l1.5,3L21,21l3-1.5L21,18l-1.5-3L18,18l-3,1.5ZM19.333,4.667,20.5,7l1.167-2.333L24,3.5,21.667,2.333,20.5,0,19.333,2.333,17,3.5Z"
            ></path>
          </svg>

          <span class="text">Em hãy giúp anh mở hộp quà này nhé!</span>
        </button>
      </div>

      <!-- Loading Indicator -->
      <div
        id="loading-indicator"
        style="
          position: absolute;
          top: 70vh;
          width: 100%;
          display: none;
          justify-content: center;
          color: white;
          font-family: 'Courier New', Courier, monospace;
          z-index: 3;
        "
      >
        <div style="text-align: center">
          <div style="margin-bottom: 10px">Đang tải nhạc...</div>
          <div
            style="
              width: 40px;
              height: 4px;
              background: rgba(255, 255, 255, 0.3);
              border-radius: 2px;
              margin: 0 auto;
            "
          >
            <div
              id="loading-bar"
              style="
                width: 0%;
                height: 100%;
                background: white;
                border-radius: 2px;
                transition: width 0.3s ease;
              "
            ></div>
          </div>
        </div>
      </div>

      <!-- Hidden Video Player -->
      <div
        id="video-player"
        style="
          position: fixed;
          top: -1000px;
          left: -1000px;
          width: 1px;
          height: 1px;
          opacity: 0;
          pointer-events: none;
        "
      >
        <video
          id="video-element"
          width="1"
          height="1"
          preload="auto"
          loop
          muted
          playsinline
          webkit-playsinline
        >
          <source src="xinloiem.mp4" type="video/mp4" />
          Your browser does not support the video tag.
        </video>
      </div>
    </div>

    <script src="js/index.js"></script>
  </body>
</html>
